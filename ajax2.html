<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>AJAX 2</title>
	</head>
	<body>
		<button id="button1">Obtener Usuario</button>
		<button id="button2">Obtener Usuarios</button>
		<br /><br />
		<h2>User</h2>
		<div id="user"></div>
		<h2>Users</h2>
		<div id="users"></div>

		<script>
			// Create Event Listener
			document.getElementById('button1').addEventListener('click', loadUser);

			function loadUser() {
				var xhr = new XMLHttpRequest();

				xhr.open('GET', 'user.json', true);
				xhr.onload = function () {
					// Check Status
					if (this.status === 200) {
						// console.log(this.responseText)
						var user = JSON.parse(this.responseText);
						// console.log(user.name)
						var output = '';

						output +=
							'<ul>' +
							'<li>ID:' +
							user.id +
							'</li>' +
							'<li>NAME:' +
							user.name +
							'</li>' +
							'<li>EMAIL:' +
							user.email +
							'</li>' +
							'</ul>';

						document.getElementById('user').innerHTML = output;
					}
				};
				xhr.send();
			}

			// Create Event Listener
			document.getElementById('button2').addEventListener('click', loadUsers);

			function loadUsers() {
				var xhr = new XMLHttpRequest();

				xhr.open('GET', 'users.json', true);

				xhr.onload = function () {
					if (this.status === 200) {
						// console.log(this.responseText);
						var users = JSON.parse(this.responseText);
						// console.log(users);
						var output = '';
						for (var i in users) {
							output +=
								'<ul>' +
								'<li>ID:' +
								users[i].id +
								'</li>' +
								'<li>NAME:' +
								users[i].name +
								'</li>' +
								'<li>EMAIL:' +
								users[i].email +
								'</li>' +
								'</ul>';
						}
						document.getElementById('users').innerHTML = output;
					}
				};
				xhr.send();
			}
		</script>
	</body>
</html>
